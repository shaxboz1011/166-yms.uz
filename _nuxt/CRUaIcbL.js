import{_ as j}from"./DnYK7lka.js";import{bG as b,ac as v,bH as x,e as N,ae as B,a7 as w,bI as H,bx as P,bJ as $,o as p,k as T,bK as z,_ as C,c as m,a as e,G as h,F as D,r as L,b as f,w as _,t as y,H as I,E as M,N as O,a1 as V}from"./Zg9QAtjx.js";import A from"./UwnqmTQN.js";import{_ as S,u as J}from"./BbNXe1gd.js";import{u as R}from"./DUoz8kc6.js";import"./Cy0yQzXU.js";import"./CtWzM0t5.js";import"./mL8Il5wu.js";import"./C1SMoSWM.js";import"./ZhWAdK_X.js";import"./IQ7TQB1o.js";import"./BxaurArh.js";import"./jc0MLXVe.js";const g="<div></div>",k=new WeakMap;function U(t){if(k.has(t))return k.get(t);const s={...t};return s.render?s.render=(a,u,o,l,n,c)=>{if(l.mounted$??a.mounted$){const r=t.render?.bind(a)(a,u,o,l,n,c);return r.children===null||typeof r.children=="string"?b(r):v(r)}return x(a._.vnode.el,g)}:s.template&&=`
      <template v-if="mounted$">${t.template}</template>
      <template v-else>${g}</template>
    `,s.setup=(a,u)=>{const o=N(),l=B(o.isHydrating===!1),n=P();if(o.isHydrating){const r={...n.attrs},i=E(n);for(const d in r)delete n.attrs[d];w(()=>{Object.assign(n.attrs,r),n.vnode.dirs=i})}w(()=>{l.value=!0});const c=t.setup?.(a,u)||{};return H(c)?Promise.resolve(c).then(r=>typeof r!="function"?(r||={},r.mounted$=l,r):(...i)=>{if(l.value||!o.isHydrating){const d=r(...i);return d.children===null||typeof d.children=="string"?b(d):v(d)}return x(n?.vnode.el,g)}):typeof c=="function"?(...r)=>{if(l.value){const i=c(...r),d=s.inheritAttrs!==!1?u.attrs:void 0;return i.children===null||typeof i.children=="string"?b(i,d):v(i,d)}return x(n?.vnode.el,g)}:Object.assign(c,{mounted$:l})},k.set(t,s),s}function E(t){if(!t||!t.vnode.dirs)return null;const s=t.vnode.dirs;return t.vnode.dirs=null,s}const F=()=>$("color-mode").value,G={__name:"ThemeSwitcher",setup(t){const s=F();function a(){s.preference=s.value==="dark"?"light":"dark"}return(u,o)=>{const l=A;return p(),T(l,{icon:z(s).value==="dark"?"pi pi-sun":"pi pi-moon",onClick:a,severity:"secondary",rounded:""},null,8,["icon"])}}},Y=globalThis.setInterval,K=U(G),W={name:"TopBar",emits:["toggle"],data(){return{collapsed:!1,time:"",interval:null,user:null,pages:[],AdminPages:[{to:"/dashboard",icon:"pi pi-home",label:"Asosiy"},{to:"/dashboard/categoryJobs",icon:"pi pi-objects-column",label:"Ish turlari"},{to:"/dashboard/worker",icon:"pi pi-users",label:"Ishchilar"},{to:"/dashboard/jobs",icon:"pi pi-barcode",label:"Ro'yxatdagi ishlar"}],UserPages:[{to:"/dashboard/categoryJobs",icon:"pi pi-objects-column",label:"Ish turlari"},{to:"/dashboard/worker",icon:"pi pi-table",label:"Ishchilar"},{to:"/dashboard/jobs",icon:"pi pi-barcode",label:"Ro'yxat ish"}]}},mounted(){const t=R("user");this.user=t.value,this.user?.role==="Admin"?this.pages=this.AdminPages:this.pages=this.UserPages,this.updateTime(),this.interval=Y(this.updateTime,1e3)},beforeUnmount(){clearInterval(this.interval)},methods:{toggleSidebar(){this.collapsed=!this.collapsed,this.$emit("toggle",this.collapsed)},updateTime(){this.time=new Date().toLocaleTimeString()},logout(){J().logout()}}},q={class:"flex min-h-screen dark:bg-[#18181b] bg-white"},Q={key:0,class:"flex items-center"},X={key:1,src:S,class:"h-10"},Z={class:"mt-5 flex-grow"},ee={class:"flex gap-4 items-center"},te={class:"flex-1 flex flex-col"},se={class:"h-[60px] py-2 border-b"},oe={class:"flex justify-between items-center px-3"},re={class:"flex gap-3 items-center"},le={class:"text-gray-500"},ne={class:"text-sm text-gray-500"},ie={class:"p-4 flex-1 overflow-auto"};function ae(t,s,a,u,o,l){const n=A,c=j,r=K;return p(),m("div",q,[e("aside",{class:h(["h-screen border-r transition-all duration-200 ease-in-out",o.collapsed?"w-16":"w-60 px-2"])},[e("div",{class:h(["flex flex-col h-full",o.collapsed?"items-center":"items-start"])},[e("div",{class:h(["mt-1 flex",o.collapsed?"justify-center":"items-center"])},[o.collapsed?(p(),m("img",X)):(p(),m("div",Q,[...s[0]||(s[0]=[e("img",{src:S,class:"h-12"},null,-1),e("div",{class:"h-10 w-[150px] text-strat"},[e("h1",{class:"logo-text text-[22px] text-[#1e40af] font-[800] leading-none mt-0.5"}," 166-YO'L "),e("p",{class:"logo-text text-[10px] text-[#16a34a] font-[800] leading-none ml-1"}," MASHINA STANSIYASI ")],-1)])]))],2),e("nav",Z,[(p(!0),m(D,null,L(o.pages,i=>(p(),T(c,{key:i.to,to:i.to,class:"rounded-md block mb-2 dark:bg-transparent","active-class":"active-link",title:o.collapsed?i.label:""},{default:_(()=>[f(n,{variant:"text",class:"flex !justify-start dark:!text-[#90a1b9] !text-[#9ca3af] hover:!text-black dark:hover:!text-white hover:!bg-[#e5e7eb] dark:hover:!bg-[#1f2937]",style:M({marginLeft:o.collapsed?"0rem":"0.5rem",padding:o.collapsed?"5px 9px":"2px 10px",width:o.collapsed?"40px":"200px"})},{default:_(()=>[e("div",ee,[e("i",{class:h(i.icon),style:{"font-size":"1.2rem"}},null,2),O(e("p",null,y(i.label),513),[[V,!o.collapsed]])])]),_:2},1032,["style"])]),_:2},1032,["to","title"]))),128))])],2)],2),e("div",te,[e("header",se,[e("div",oe,[f(n,{variant:"text",rounded:"",onClick:l.toggleSidebar},{default:_(()=>[...s[1]||(s[1]=[e("i",{class:"pi pi-bars",style:{"font-size":"1.2rem",color:"#6b7280"}},null,-1)])]),_:1},8,["onClick"]),e("div",re,[e("span",le,y(o.time),1),e("span",ne,y(o.user?.username),1),f(r),f(n,{variant:"text",rounded:"",onClick:l.logout},{default:_(()=>[...s[2]||(s[2]=[e("i",{class:"pi pi-sign-out",style:{"font-size":"1.2rem",color:"#6b7280"}},null,-1)])]),_:1},8,["onClick"])])])]),e("main",ie,[I(t.$slots,"default",{},void 0,!0)])])])}const ce=Object.assign(C(W,[["render",ae],["__scopeId","data-v-907e3698"]]),{__name:"Topbar"}),de={data(){return{isCollapsed:!1}},methods:{handleToggle(t){this.isCollapsed=t}}},ue={class:"relative"};function pe(t,s,a,u,o,l){const n=ce;return p(),m("div",null,[e("div",ue,[f(n,{onToggle:l.handleToggle,role:"Admin"},null,8,["onToggle"]),e("div",{class:h(["absolute top-16 ml-2",[o.isCollapsed?"w-[96%] left-14":"w-[87%] left-60"]])},[I(t.$slots,"default")],2)])])}const Ie=C(de,[["render",pe]]);export{Ie as default};
