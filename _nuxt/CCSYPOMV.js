import f from"./HD3xI_al.js";import x from"./Dw8mO7dl.js";import b from"./BHwS6zDY.js";import{p as g,_ as v,c as l,a as e,b as r,g as w,t as _,j as d,w as h,T as y,F as V,n,k,o as a}from"./DxA_6M4S.js";import{_ as S}from"./Xm5yJko8.js";import"./DDsLHn0g.js";import"./BW7sQ8Lu.js";import"./CbawUMde.js";import"./IQCu99C0.js";import"./ZhWAdK_X.js";import"./C8iaunkn.js";import"./thNPohIa.js";import"./jc0MLXVe.js";import"./CTbMIecC.js";import"./CtVUFbQO.js";import"./CLs7nh7g.js";import"./DouVao_c.js";import"./BTljArdg.js";import"./BDCSQwEq.js";import"./BGrBkppK.js";import"./AZeH9B--.js";const T=g("/logo/for-logo-img.jpg"),A={data(){return{username:"",password:"",loading:!1,error:"",visible:!1}},methods:{async onSubmit(){try{this.loading=!0,this.error="";const{login:o}=k(),s=await o(this.username,this.password);this.showSuccessAndRedirect(s.role)}catch(o){this.error=o?.data?.message||"Login failed"}finally{this.loading=!1}},showSuccessAndRedirect(o){this.visible=!0,setTimeout(()=>{this.visible=!1,o==="Admin"?n("/dashboard"):o==="Operator"?n("/service"):n("/")},5e3)}}},j={class:"flex items-center justify-center h-screen w-full overflow-hidden"},B={class:"w-[50%] h-screen flex items-center justify-center bg-[#2563eb]"},F={class:"bg-white border rounded-[60px] mx-auto pl-9 pr-14 pt-9 pb-16"},R={class:"w-[350px]"},C={class:"w-[300px] ml-[35px]"},L={class:"flex flex-col gap-2 mb-[24px]"},M={class:"flex flex-col gap-2 mb-[24px]"},N={key:0,class:"text-red-500 text-sm text-center"},U={key:0,class:"success-overlay text-center"};function q(o,s,z,D,t,m){const c=b,p=x,u=f;return a(),l(V,null,[e("div",j,[r(c),s[6]||(s[6]=e("div",null,[e("img",{src:T,alt:""})],-1)),e("div",B,[e("div",F,[e("div",R,[s[5]||(s[5]=e("div",{class:"flex flex-col items-center"},[e("div",{class:"flex items-center"},[e("img",{src:S,class:"h-[200px]"})])],-1)),e("div",C,[e("form",{class:"flex-col gap-4 w-full",onSubmit:s[2]||(s[2]=w((...i)=>m.onSubmit&&m.onSubmit(...i),["prevent"]))},[e("section",L,[s[3]||(s[3]=e("label",{class:"text-[14px] text-white ml-2",for:"username"},"Login",-1)),r(p,{id:"username",modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=i=>t.username=i),modelModifiers:{trim:!0},class:"dark-input"},null,8,["modelValue"])]),e("section",M,[s[4]||(s[4]=e("label",{class:"text-[14px] text-white ml-2",for:"password"},"Parol",-1)),r(p,{id:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=i=>t.password=i),type:"password",autocomplete:"off",class:"dark-input"},null,8,["modelValue"])]),t.error?(a(),l("p",N,_(t.error),1)):d("",!0),r(u,{type:"submit",class:"mt-4 w-full text-[15px] !bg-[#2563eb] !border-0 hover:!border-[#582CFF]",label:"Kirish",loading:t.loading},null,8,["loading"])],32)])])])])]),r(y,{name:"success"},{default:h(()=>[t.visible?(a(),l("div",U,[...s[7]||(s[7]=[e("div",{class:"block"},[e("div",{class:"success-text"},"Muvaffaqiyatli"),e("div",{class:"success-text"},"Ro'yxatdan o'tdingiz.")],-1)])])):d("",!0)]),_:1})],64)}const ns=v(A,[["render",q]]);export{ns as default};
